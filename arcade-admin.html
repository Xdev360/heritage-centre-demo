<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arcade Admin Dashboard â€” Heritage Centre</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .admin-tabs { display: flex; gap: var(--space-2); border-bottom: 2px solid var(--neutral-200); margin-bottom: var(--space-6); flex-wrap: wrap; }
    .admin-tab { padding: var(--space-3) var(--space-5); border: none; background: none; color: var(--neutral-600); font-weight: 600; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.2s; }
    .admin-tab:hover { color: var(--primary-600); }
    .admin-tab.active { color: var(--primary-600); border-bottom-color: var(--primary-600); }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
    .stat-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-4); margin-bottom: var(--space-8); }
    .stat-card { background: white; border: 1px solid var(--neutral-200); border-radius: var(--radius-lg); padding: var(--space-5); text-align: center; }
    .stat-value { font-size: 2rem; font-weight: 800; color: var(--primary-600); margin-bottom: var(--space-2); }
    .data-table { width: 100%; border-collapse: collapse; }
    .data-table th { background: var(--neutral-50); padding: var(--space-3); text-align: left; font-weight: 600; border-bottom: 2px solid var(--neutral-200); }
    .data-table td { padding: var(--space-3); border-bottom: 1px solid var(--neutral-200); }
  </style>
</head>
<body data-page="arcade-admin">
  <header class="header" id="main-header">
    <div class="nav-container">
      <a href="index.html" class="nav-logo"><div class="nav-logo-icon">HC</div><span>Heritage Centre</span></a>
      <nav class="nav-main">
        <a href="arcade-admin.html" class="nav-link active">Arcade Admin</a>
        <a href="admin-login.html" class="nav-link">Switch Department</a>
      </nav>
      <div class="nav-actions">
        <button class="btn btn-ghost btn-sm" onclick="logout()">Logout</button>
      </div>
    </div>
  </header>

  <main>
    <div class="container" style="padding: var(--space-8) var(--space-4);">
      <div style="margin-bottom: var(--space-8);">
        <h1 style="font-size: 2rem; margin-bottom: var(--space-2);">ðŸŽ® Arcade Center Admin</h1>
        <p style="color: var(--neutral-600);">Manage game cards, bookings, pricing, and payment confirmations</p>
      </div>

      <!-- Stats -->
      <div class="stat-grid">
        <div class="stat-card"><div class="stat-value" id="stat-pending">0</div><div>Pending Payments</div></div>
        <div class="stat-card"><div class="stat-value" id="stat-bookings">0</div><div>Active Bookings</div></div>
        <div class="stat-card"><div class="stat-value" id="stat-cards">0</div><div>Active Game Cards</div></div>
        <div class="stat-card"><div class="stat-value" id="stat-revenue">â‚¦0</div><div>Today's Revenue</div></div>
      </div>

      <!-- Tabs -->
      <div class="admin-tabs">
        <button class="admin-tab active" onclick="switchTab('payments')">ðŸ’³ Payments</button>
        <button class="admin-tab" onclick="switchTab('bookings')">ðŸ“… Bookings</button>
        <button class="admin-tab" onclick="switchTab('cards')">ðŸŽ« Game Cards</button>
        <button class="admin-tab" onclick="switchTab('pricing')">ðŸ’° Pricing</button>
      </div>

      <!-- Payments Tab -->
      <div id="tab-payments" class="tab-content active">
        <div class="card">
          <h3 style="margin-bottom: var(--space-4);">Payment Confirmations</h3>
          <table class="data-table">
            <thead><tr><th>Ref</th><th>Customer</th><th>Amount</th><th>Date</th><th>Status</th><th>Action</th></tr></thead>
            <tbody id="payments-list"><tr><td colspan="6" style="text-align:center; color: var(--neutral-500);">No payments pending</td></tr></tbody>
          </table>
        </div>
      </div>

      <!-- Bookings Tab -->
      <div id="tab-bookings" class="tab-content">
        <div class="card">
          <h3 style="margin-bottom: var(--space-4);">Arcade Bookings</h3>
          <table class="data-table">
            <thead><tr><th>Booking ID</th><th>Customer</th><th>Package</th><th>Date</th><th>Status</th><th>Action</th></tr></thead>
            <tbody id="bookings-list"><tr><td colspan="6" style="text-align:center; color: var(--neutral-500);">No bookings yet</td></tr></tbody>
          </table>
        </div>
      </div>

      <!-- Game Cards Tab -->
      <div id="tab-cards" class="tab-content">
        <div class="card">
          <div style="display:flex; justify-content: space-between; margin-bottom: var(--space-4);">
            <h3>Game Cards Management</h3>
            <button class="btn btn-primary btn-sm" onclick="addCard()">+ Add Card</button>
          </div>
          <table class="data-table">
            <thead><tr><th>Card Number</th><th>Balance</th><th>Customer</th><th>Issued</th><th>Status</th><th>Action</th></tr></thead>
            <tbody id="cards-list"><tr><td colspan="6" style="text-align:center; color: var(--neutral-500);">No active cards</td></tr></tbody>
          </table>
        </div>
      </div>

      <!-- Pricing Tab -->
      <div id="tab-pricing" class="tab-content">
        <div class="card">
          <div style="display:flex; justify-content: space-between; margin-bottom: var(--space-4);">
            <h3>Pricing Management</h3>
            <button class="btn btn-primary btn-sm" onclick="updatePricing()">Save Changes</button>
          </div>
          <div style="display: grid; gap: var(--space-4);">
            <div class="field"><label>Hourly Play Rate</label><input type="number" class="input" id="hourly-rate" value="2000" /></div>
            <div class="field"><label>Game Card Activation Fee</label><input type="number" class="input" id="card-fee" value="500" /></div>
            <div class="field"><label>Birthday Package (Basic)</label><input type="number" class="input" id="package-basic" value="15000" /></div>
            <div class="field"><label>Birthday Package (Premium)</label><input type="number" class="input" id="package-premium" value="25000" /></div>
            <div class="field"><label>Birthday Package (VIP)</label><input type="number" class="input" id="package-vip" value="40000" /></div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer style="background: white; border-top: 1px solid var(--neutral-200); padding: var(--space-8) var(--space-4);">
    <div class="container" style="display:flex; justify-content:center; gap: var(--space-3); flex-wrap: wrap; align-items:center;">
      <p style="color: var(--neutral-500); font-size: 0.875rem; margin:0;">Â© 2024 Heritage Centre. All rights reserved.</p>
    </div>
  </footer>

  <script>
    function checkAuth() {
      const dept = localStorage.getItem('hc_department');
      if (dept !== 'arcade' && dept !== 'ceo') {
        alert('Access denied. Arcade admin privileges required.');
        window.location.href = 'admin-login.html';
      }
    }

    function switchTab(tab) {
      document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      event.target.classList.add('active');
      document.getElementById(`tab-${tab}`).classList.add('active');
    }

    function logout() {
      localStorage.removeItem('hc_user');
      localStorage.removeItem('hc_user_role');
      localStorage.removeItem('hc_department');
      window.location.href = 'index.html';
    }

    function addCard() { alert('Add Game Card feature - integrate with your backend'); }
    function updatePricing() { alert('Pricing updated successfully!'); }

    // Load data
    function loadStats() {
      const payments = JSON.parse(localStorage.getItem('hc_all_pending_payments') || '[]');
      const arcadePayments = payments.filter(p => p.serviceType && p.serviceType.toLowerCase().includes('arcade'));
      document.getElementById('stat-pending').textContent = arcadePayments.filter(p => p.status === 'pending').length;
      document.getElementById('stat-bookings').textContent = '0'; // Placeholder
      document.getElementById('stat-cards').textContent = '0'; // Placeholder
      document.getElementById('stat-revenue').textContent = 'â‚¦0'; // Placeholder
    }

    document.addEventListener('DOMContentLoaded', () => {
      checkAuth();
      loadStats();
    });
  </script>
</body>
</html>
